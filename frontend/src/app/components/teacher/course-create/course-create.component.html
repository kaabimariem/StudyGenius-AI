<div class="create-container">
  <div class="create-header">
    <h1>Créer un nouveau cours</h1>
    <a routerLink="/teacher" class="back-link">← Retour</a>
  </div>

  <div class="create-form-container">
    <form [formGroup]="courseForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="title">Titre du cours *</label>
        <input
          type="text"
          id="title"
          formControlName="title"
          class="form-control"
          placeholder="Ex: Introduction à la programmation"
          [class.invalid]="courseForm.get('title')?.invalid && courseForm.get('title')?.touched"
        />
        <div *ngIf="courseForm.get('title')?.invalid && courseForm.get('title')?.touched" class="error">
          Le titre est requis (minimum 3 caractères)
        </div>
      </div>

      <div class="form-group">
        <label for="code">Code du cours *</label>
        <input
          type="text"
          id="code"
          formControlName="code"
          class="form-control"
          placeholder="Ex: PROG101"
          [class.invalid]="courseForm.get('code')?.invalid && courseForm.get('code')?.touched"
        />
        <div *ngIf="courseForm.get('code')?.invalid && courseForm.get('code')?.touched" class="error">
          Le code est requis (minimum 3 caractères)
        </div>
      </div>

      <div class="form-group">
        <label for="description">Description *</label>
        <textarea
          id="description"
          formControlName="description"
          class="form-control"
          rows="5"
          placeholder="Décrivez le contenu et les objectifs du cours..."
          [class.invalid]="courseForm.get('description')?.invalid && courseForm.get('description')?.touched"
        ></textarea>
        <div *ngIf="courseForm.get('description')?.invalid && courseForm.get('description')?.touched" class="error">
          La description est requise (minimum 10 caractères)
        </div>
      </div>

      <div class="form-group">
        <label for="documents">Documents (optionnel)</label>
        <input
          type="file"
          id="documents"
          multiple
          accept=".pdf,.doc,.docx"
          (change)="onFileSelected($event)"
          class="form-control"
        />
        <div *ngIf="selectedFiles.length > 0" class="file-list">
          <p>Fichiers sélectionnés :</p>
          <ul>
            <li *ngFor="let file of selectedFiles">{{ file.name }}</li>
          </ul>
        </div>
      </div>

      <div class="form-group checkbox-group">
        <label>
          <input type="checkbox" formControlName="isActive" />
          Activer le cours immédiatement
        </label>
      </div>

      <div *ngIf="errorMessage" class="alert alert-error">
        {{ errorMessage }}
      </div>

      <div *ngIf="successMessage" class="alert alert-success">
        {{ successMessage }}
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary" [disabled]="courseForm.invalid">
          Créer le cours
        </button>
        <button type="button" class="btn btn-secondary" routerLink="/teacher">
          Annuler
        </button>
      </div>
    </form>
  </div>
</div>


