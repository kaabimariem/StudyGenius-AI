<div class="dashboard-container">
  <header class="dashboard-header">
    <h1>Tableau de bord - Étudiant</h1>
    <div class="user-info">
      <span>Bienvenue, {{ currentUser?.firstName }} {{ currentUser?.lastName }}</span>
      <button class="btn btn-secondary" (click)="logout()">Déconnexion</button>
    </div>
  </header>

  <nav class="dashboard-nav">
    <a routerLink="/student" routerLinkActive="active">Accueil</a>
    <a routerLink="/student/courses" routerLinkActive="active">Mes Cours</a>
    <a routerLink="/student/exams" routerLinkActive="active">Mes Examens</a>
    <a routerLink="/student/ai-analysis" routerLinkActive="active">Analyse IA</a>
    <a routerLink="/student/qcm-generator" routerLinkActive="active">Générateur QCM</a>
  </nav>

  <main class="dashboard-content">
    <div class="stats-grid">
      <div class="stat-card">
        <h3>{{ courses.length }}</h3>
        <p>Cours disponibles</p>
      </div>
      <div class="stat-card">
        <h3>{{ exams.length }}</h3>
        <p>Examens disponibles</p>
      </div>
    </div>

    <section class="courses-section">
      <h2>Mes Cours</h2>
      <div class="courses-grid" *ngIf="courses.length > 0; else noCourses">
        <div class="course-card" *ngFor="let course of courses" [routerLink]="['/student/courses', course.id]">
          <h3>{{ course.title }}</h3>
          <p>{{ course.description }}</p>
          <span class="course-code">{{ course.code }}</span>
        </div>
      </div>
      <ng-template #noCourses>
        <p>Aucun cours disponible pour le moment.</p>
      </ng-template>
    </section>

    <section class="exams-section">
      <h2>Mes Examens</h2>
      <div class="exams-list" *ngIf="exams.length > 0; else noExams">
        <div class="exam-card" *ngFor="let exam of exams" [routerLink]="['/student/exams', exam.id]">
          <h3>{{ exam.title }}</h3>
          <p>{{ exam.description }}</p>
          <div class="exam-info">
            <span>Date de début: {{ exam.startDate | date:'short' }}</span>
            <span>Date de fin: {{ exam.endDate | date:'short' }}</span>
          </div>
        </div>
      </div>
      <ng-template #noExams>
        <p>Aucun examen disponible pour le moment.</p>
      </ng-template>
    </section>
  </main>
</div>

